{% extends "base.html" %}
{% load static %}
{% block content %}

<style>
  :root{
          --color-1 : {{colors.color1}} !important;
          --color-2 : {{colors.color2}} !important;
          --color-3 : {{colors.color3}}!important;
          --color-4 : #0EF60E !important;
          --color-5 : {{colors.color4}} !important;
      }
    .form-card {
        width: 100%;
        max-width: 900px;
        margin: 2rem auto;
        background: white;
        padding: 2rem;
        border-radius: 1rem;
        box-shadow: 0px 0px 20px rgba(255, 0, 0, 0.1);
    }

    .form-card h2 {
        color: var(--color-3);
        font-weight: bold;
        text-align: center;
        font-size: 1.75rem;
        margin-bottom: 1.5rem;
    }
    .form-card label{

      color : var(--color-1)
    }

    .form-card input,
    .form-card textarea,
    .form-card select {
        width: 100%;
        padding: 0.75rem;
        margin-bottom: 1rem;
        border-radius: 0.5rem;
        font-size: 0.9rem;
        border: 1px solid #ccc;
    }

    .form-card input:focus,
    .form-card textarea:focus {
        border-color: var(--color-3);
        background-color: #ffffff;
        outline: none;
    }

    .form-card button,
    .profession-btn {
        width: 100%;
        padding: 0.8rem;
        background-color: var(--color-3);
        color: white;
        border: none;
        border-radius: 0.5rem;
        font-size: 1rem;
        transition: 0.3s ease;
    }

    .form-card button:hover {
        opacity: 0.9;
        transform: scale(1.01);
    }
    .project-image{
      height : 70px !important;
      width : 70px !important;
    }

    /* Responsive Styles */
    @media (max-width: 768px) {
        .form-card {
            padding: 1.5rem;
        }

        .form-card h2 {
            font-size: 1.5rem;
            margin-bottom: 1.25rem;
        }

        .form-card input,
        .form-card textarea,
        .form-card select {
            font-size: 0.85rem;
            padding: 0.65rem;
        }

        .form-card button,
        .profession-btn {
            font-size: 0.95rem;
            padding: 0.7rem;
        }
        .project-image{
          height : 50px !important;
          width : 50px !important;
        }
    }

    @media (max-width: 480px) {
        .form-card {
            padding: 1rem;
            border-radius: 0.75rem;
        }

        .form-card h2 {
            font-size: 1.25rem;
        }

        .form-card input,
        .form-card textarea,
        .form-card select {
            font-size: 0.8rem;
            padding: 0.6rem;
        }

        .form-card button,
        .profession-btn {
            font-size: 0.9rem;
            padding: 0.65rem;
        }
        .project-image{
          height : 30px !important;
          width : 30px !important;
        }
    }
/* Smaller text and padding for Bootstrap table */
.table {
  font-size: 0.85rem;
}

.table th,
.table td {
  padding: 0.5rem 0.6rem; /* less padding */
  vertical-align: middle;
}

/* Smaller button inside table */
.table .btn {
  font-size: 0.75rem;
  padding: 0.3rem 0.6rem;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .table {
    font-size: 0.75rem;
  }

.btn {
    font-size: 0.7rem;
    padding: 0.25rem 0.5rem;
  }
}

@media (max-width: 480px) {
  .table {
    font-size: 0.7rem;
  }

  .btn {
    font-size: 0.65rem;
    padding: 0.2rem 0.4rem;
  }
}



{% comment %} navbar............. {% endcomment %}
.custom-nav-bar {
  position: sticky;
  top: 80px;
  z-index: 8;
  background: transparent;
  border-bottom: 1px solid var(--color-3);
  backdrop-filter: blur(8px);
  padding: 0.5rem 1rem;
}
@media (max-width:480px) {
  .custom-nav-bar{
    position: sticky;
    top : 62px;
  }
}

.custom-nav-container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1200px;
  margin: auto;
}

.custom-nav-desktop-links {
  display: flex;
  gap: 1.5rem;
}

.custom-nav-desktop-links a {
  color: var(--color-3);
  text-decoration: none;
  font-weight: 500;
  font-size: 1rem;
  transition: 0.3s;
}

.custom-nav-desktop-links a:hover {
  opacity: 0.8;
  transform: scale(1.05);
}

.custom-nav-toggle {
  background: none;
  border: none;
  font-size: 1.5rem;
  color: var(--color-3);
  cursor: pointer;
  display: none;
}

/* Slide-in panel for mobile */
.custom-nav-slide-panel {
  position: fixed;
  top: 0;
  right: 0;
  height: 100vh;
  width: 250px;
  background: var(--color-5);
  padding: 2rem 1.5rem;
  transform: translateX(100%);
  transition: transform 0.3s ease-in-out;
  display: flex;
  flex-direction: column;
  gap: 1rem;
  z-index: 1001;
}

.custom-nav-slide-panel.show {
  transform: translateX(0);
}

.custom-nav-slide-panel a {
  color: var(--color-3);
  font-size: 1rem;
  text-decoration: none;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  padding-bottom: 0.5rem;
}

/* Hide desktop links on mobile, show toggle */
@media (max-width: 768px) {
  .custom-nav-desktop-links {
    display: none;
  }

  .custom-nav-toggle {
    display: block;
  }
}


{% comment %} sticky {% endcomment %}

html {
        scroll-padding-top: calc(80px + 50px); /* default for laptop/desktop */
      }

      @media (max-width: 768px) {
        html {
          scroll-padding-top: calc(60px + 50px); /* for mobile */
        }
      }






</style>

{% include "navbar.html" %}
<nav class="custom-nav-bar">
  <div class="custom-nav-container">
    <button class="custom-nav-toggle" id="customNavToggle">☰</button>

    <!-- Desktop Links -->
    <div class="custom-nav-desktop-links">
      <a href="#color-form">Colors</a>
      <a href="#profile-form">Profile</a>
      <a href="#socialMedia-form">Social Media</a>
      <a href="#profession-form">Profession</a>
      <a href="#about-form">About</a>
      <a href="#skill-form">Skills</a>
      <a href="#education-form">Education</a>
      <a href="#experience-form">Experience</a>
      <a href="#service-form">Services</a>
      <a href="#project-form">Projects</a>
    </div>
  </div>
</nav>

<!-- Mobile Slide Panel -->
<div class="custom-nav-slide-panel" id="customNavLinksPanel">
  <a href="#color-form">Colors</a>
  <a href="#profile-form">Profile</a>
  <a href="#socialMedia-form">Social Media</a>
  <a href="#profession-form">Profession</a>
  <a href="#about-form">About</a>
  <a href="#skill-form">Skills</a>
  <a href="#education-form">Education</a>
  <a href="#experience-form">Experience</a>
  <a href="#service-form">Services</a>
  <a href="#project-form">Projects</a>
</div>







<div class="container py-5">

  <!-- Colors Section -->
    <div class="form-card" id='color-form'>
        <h2>Colors</h2>
        <form method='POST' enctype="multipart/form-data">
            {% csrf_token %}
            <input type="hidden" name='color-form' value="1">
            <div class='row'>
              <div class="col-3">
                <input type="text" class="form-control" placeholder="#000000" name="color1" value='{{colors.color1}}' >
              </div>
              <div class="col-3">
                <input type="text" class="form-control" placeholder="#000000" name="color2" value='{{colors.color2}}' >
              </div>
              <div class="col-3">
                <input type="text" class="form-control" placeholder="#000000" name="color3" value='{{colors.color3}}' >
              </div>
              <div class="col-3">
                
                <input type="text" class="form-control" placeholder="#000000" name="color4" value='{{colors.color4}}' >
                
              </div>
            </div>
            <button type="submit">Update Color Scheme</button>
        </form>
    </div>

    <!-- Profile Section -->
    <div class="form-card" id='profile-form'>
        <h2>Profile</h2>
        <form method='POST' enctype="multipart/form-data">
            {% csrf_token %}
            <input type="hidden" name="profile-form" value="1">
            <input type="text" class="form-control" placeholder="Full Name" name="profile-name" value='{{profile.name}}' required>
            <input type="email" class="form-control" placeholder="Email" name="profile-email" value='{{profile.email}}'>
            <input type="text" class="form-control" placeholder="Phone" name="profile-phone" value='{{profile.phone}}' >
            <textarea class="form-control" placeholder="Intro" rows="4" name="home-intro" required>{{profile.intro}}</textarea>
            <label>Profile Image</label>
            <input type="file" class="form-control" name="profile-image" required>
            <label>Your CV</label>
            <input type="file" class="form-control" name="profile-cv" required>
            <button type="submit">Update Profile</button>
        </form>
    </div>

    {% comment %} social Media {% endcomment %}

    <div class="form-card" id='socialMedia-form'>
        <h2>Social Media</h2>
        <form method='POST'>
            {% csrf_token %}
            <input type="hidden" name='socialMedia-form' value="1">
            
            <input type="text" class="form-control" placeholder="Title" name="social-title">
            <input type="text" class="form-control" placeholder="Link" name="social-link">
            <input type="text" class="form-control" placeholder="Icon" name="social-icon">
            <button type="submit">Add Link</button>
        </form>
        
<div class="container my-5">
  <div class="card shadow-lg border-0 rounded-4">
    <div class="card-header bg-danger text-white rounded-top-4">
      <h4 class="mb-0">Social Media Records</h4>
    </div>
    <div class="card-body">
      <table class="table table-hover align-middle">
        <thead class="table">
          <tr>
            <th scope="col">Icon</th>
            <th scope="col">Title</th>
            <th scope="col">Link</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody>
          {% for social in socialMedia %}
          <tr>
            <td>{{social.icon|safe}}</td>
            <td>{{social.name}}</td>
            <td>{{social.link}}</td>
            <td>
              <a href="{% url "delete_social_media" social.id %}" class="btn btn-danger btn-sm"
                 onclick="return confirm('Are you sure you want to delete this record?')">
                <i class="bi bi-trash"></i> Delete
              </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
<small style="color: var(--color-1);"><strong>Support <a href="https://fontawesome.com/" target="_blank">Font awesome</a> Icon HTML tags</strong></small>
</div>

    <!-- Profession Section -->
    <div class="form-card" id='profession-form'>
        <h2>Profession</h2>
        <form method='POST'>
            {% csrf_token %}
            <input type="hidden" name="profession-form" value="1">
            <input type="text" class="form-control" placeholder="Profession" name="profession">
            <button type="submit" class='mb-4'>Add Profession</button>
            {% for profession in professions %}

            <div class="row mt-1">
                <div class="col-10">
                    <input type="text" class="form-control" name="profession-display" value='{{profession.profession}}' readonly>
                </div>
                <div class="col-2">
                    <a href="{% url "delete_profession" profession.id %}" class="btn btn-danger" onclick="return confirm('Are you sure?')">Delete</a>
                </div>
            </div>
            
            {% endfor %}
        </form>
    </div>

    <!-- About Section -->
    <div class="form-card" id='about-form'>
        <h2>About</h2>
        <form method='POST' enctype="multipart/form-data">
            {% csrf_token %}
            <input type="hidden" name='about-form' value="1">
            <textarea class="form-control" placeholder="About Intro" rows="4" name="about-intro">{{about.about_intro}}</textarea>
            <label>About Image</label>
            <input type="file" class="form-control" name="about-image">
            <button type="submit">Update About</button>
        </form>
    </div>

    <!-- Skill Section -->
    <div class="form-card" id='skill-form'>
        <h2>Skill</h2>
        <form method='POST'>
            {% csrf_token %}
            <input type="hidden" name='skill-form' value="1">
            <input type="text" class="form-control" placeholder="Skill Name" name="skill-name">
            <input type="number" class="form-control" placeholder="Skill Percentage (0-100)" name="skill-percentage">
            <button type="submit" class='mb-4'>Add Skill</button>
            {% for skill in skills %}

            <div class="row mt-1">
                <div class="col-10">
                    <input type="text" class="form-control" name="profession-display" value='{{skill.name}} - {{skill.percentage}}' readonly>
                </div>
                <div class="col-2">
                    <a href="{% url "delete_skill" skill.id %}" class="btn btn-danger" onclick="return confirm('Are you sure?')">Delete</a>
                </div>
            </div>
            
            {% endfor %}
        </form>
    </div>

    <!-- Education Section -->
    <div class="form-card" id='education-form'>
        <h2>Education</h2>
        <form method='POST'>
            {% csrf_token %}
            <input type="hidden" name='education-form' value="1">
            <input type="text" class="form-control" placeholder="Title" name="education-title">
            <textarea class="form-control" placeholder="Description" rows="3" name="education-description"></textarea>
            <input type="text" class="form-control" placeholder="Year (e.g. 2020-2024)" name="education-year">
            <button type="submit">Add Education</button>
        </form>


<div class="container my-5">
  <div class="card shadow-lg border-0 rounded-4">
    <div class="card-header bg-danger text-white rounded-top-4">
      <h4 class="mb-0">Education Records</h4>
    </div>
    <div class="card-body">
      <table class="table table-hover align-middle">
        <thead class="table">
          <tr>
            <th scope="col">Degree</th>
            <th scope="col">Description</th>
            <th scope="col">Year</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody>
          {% for edu in education %}
          <tr>
            <td>{{edu.title}}</td>
            <td>{{edu.description}}</td>
            <td>{{edu.year}}</td>
            <td>
              <a href="{% url "delete_edu" edu.id %}" class="btn btn-danger btn-sm"
                 onclick="return confirm('Are you sure you want to delete this record?')">
                <i class="bi bi-trash"></i> Delete
              </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
        


    </div>

    <!-- Experience Section -->
<div class="form-card" id='experience-form'>
        <h2>Experience</h2>
        <form method='POST'>
            {% csrf_token %}
            <input type="hidden" name='experience-form' value="1">
            
            <input type="text" class="form-control" placeholder="Title" name="experience-title">
            <textarea class="form-control" placeholder="Description" rows="3" name="experience-description"></textarea>
            <input type="text" class="form-control" placeholder="Year (e.g. 2021-2023)" name="experience-year">
            <button type="submit">Add Experience</button>
        </form>
        
<div class="container my-5">
  <div class="card shadow-lg border-0 rounded-4">
    <div class="card-header bg-danger text-white rounded-top-4">
      <h4 class="mb-0">Experience Records</h4>
    </div>
    <div class="card-body">
      <table class="table table-hover align-middle">
        <thead class="table">
          <tr>
            <th scope="col">Time</th>
            <th scope="col">Description</th>
            <th scope="col">Year Range</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody>
          {% for exp in experience %}
          <tr>
            <td>{{exp.title}}</td>
            <td>{{exp.description}}</td>
            <td>{{exp.year}}</td>
            <td>
              <a href="{% url "delete_exp" exp.id %}" class="btn btn-danger btn-sm"
                 onclick="return confirm('Are you sure you want to delete this record?')">
                <i class="bi bi-trash"></i> Delete
              </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
</div>

{% comment %} services section {% endcomment %}

<div class="form-card" id='service-form'>
        <h2>Services</h2>
        <form method='POST'>
            {% csrf_token %}
            <input type="hidden" name='services-form' value="1">
            
            <input type="text" class="form-control" placeholder="Title" name="service-title">
            <textarea class="form-control" placeholder="Description" rows="3" name="service-description"></textarea>
            <input type="text" class="form-control" placeholder="⚙️" name="service-icon">
            <button type="submit">Add Service</button>
        </form>
        
<div class="container my-5">
  <div class="card shadow-lg border-0 rounded-4">
    <div class="card-header bg-danger text-white rounded-top-4">
      <h4 class="mb-0">Services</h4>
    </div>
    <div class="card-body">
      <table class="table table-hover align-middle">
        <thead class="table">
          <tr>
            <th scope="col">Icon</th>
            <th scope="col">Title</th>
            <th scope="col">Description</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody>
          {% for service in services %}
          <tr>
            <td>{{service.icon}}</td>
            <td>{{service.name}}</td>
            <td>{{service.description}}</td>
            <td>
              <a href="{% url "delete_service" service.id %}" class="btn btn-danger btn-sm"
                 onclick="return confirm('Are you sure you want to delete this record?')">
                <i class="bi bi-trash"></i> Delete
              </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
</div>

    <!-- Project Section -->
    <div class="form-card" id='project-form'>
        <h2>Project</h2>
        <form method='POST' enctype="multipart/form-data">
            {% csrf_token %}
            <input type="hidden" name='project-form' value="1">
            <input type="text" class="form-control" placeholder="Project Title" name="project-title" value='{{project.title}}' required>
            <label>Project Image</label>
            <div class='row'>
              <input type="file" class="form-control col-12 col-md-6 col-lg-3 " name="project-image" required>
              <input type="file" class="form-control col-12 col-md-6 col-lg-3 " name="project-image2">
              <input type="file" class="form-control col-12 col-md-6 col-lg-3 " name="project-image3">
              <input type="file" class="form-control col-12 col-md-6 col-lg-3 " name="project-image4">
            </div>
            <textarea class="form-control mb-3" id='editor' placeholder="Project Description" rows="4" name="project-description">{{project.description}}</textarea>
            <input type="url" class="form-control mt-3" placeholder="Project URL (optional)" name="project-url" value='{{project.url}}'>
            <button type="submit">Add Project</button>
        </form>
        <div class="container my-5">
  <div class="card shadow-lg border-0 rounded-4">
    <div class="card-header bg-danger text-white rounded-top-4">
      <h4 class="mb-0">Project Records</h4>
    </div>
    <div class="card-body">
      <table class="table table-hover align-middle">
        <thead class="table">
          <tr>
            <th scope="col">Title</th>
            <th scope="col">Image</th>
            <th scope="col">Update</th>
            <th scope="col">Delete</th>
          </tr>
        </thead>
        <tbody>
          {% for proj in projects %}
          <tr>
            <td>{{proj.title}}</td>
            <td><img src="{% if proj.image %}{{proj.image.url}}{% else %}''{% endif %}" alt="{{proj.title}}" srcset="" class='project-image'></td>
            <td>
              <a href="/update-project/{{proj.id}}/#project-form" class="btn btn-warning btn-sm">
                <i class="bi bi-trash"></i> Update
              </a>
            </td>
            <td>
              <a href="{% url "delete_proj" proj.id %}" class="btn btn-danger btn-sm"
                 onclick="return confirm('Are you sure you want to delete this record?')">
                <i class="bi bi-trash"></i> Delete
              </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
    </div>

</div>


<script>
    CKEDITOR.replace('editor');
</script>


{% endblock content %}
